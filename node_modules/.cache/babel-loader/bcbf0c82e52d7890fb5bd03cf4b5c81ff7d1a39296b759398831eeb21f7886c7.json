{"ast":null,"code":"import _regeneratorRuntime from\"/home/guilherme/Imagens/Pokedex/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/guilherme/Imagens/Pokedex/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/guilherme/Imagens/Pokedex/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useContext,useEffect,useState}from\"react\";import{useLocation,useNavigate}from\"react-router\";import{getPokemonColors}from\"../../constants/color\";import{getPokemonType}from\"../../constants/types\";import{BASE_URL}from\"../../constants/url\";import{GlobalContext}from\"../../contexts/GlobalContext\";import{goToDetailsPage}from\"../../routes/coordinator\";import{ButtonPokedex,ButtonPokemon,CardType,Container,ImgPokemon,Link,Pokemon,Type}from\"./styled\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Card=function Card(props){var _pokemon$types,_pokemon$sprites;var navigate=useNavigate();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),pokemon=_useState2[0],setPokemon=_useState2[1];var location=useLocation();var context=useContext(GlobalContext);var setIsOpen=context.setIsOpen,setFlow=context.setFlow,addToPokedex=context.addToPokedex,removeToPokedex=context.removeToPokedex;var fetchPokeDetails=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(BASE_URL,\"/\").concat(props.pokemon.name));case 3:response=_context.sent;setPokemon(response.data);_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(\"Erro ao buscar detalhes de pokemon\");console.log(_context.t0.response);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchPokeDetails(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchPokeDetails();},[]);return/*#__PURE__*/_jsxs(Container,{color:getPokemonColors(pokemon.types&&pokemon.types[0].type.name),children:[/*#__PURE__*/_jsxs(Pokemon,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"#\",pokemon.id]}),/*#__PURE__*/_jsx(\"h1\",{children:pokemon.name}),/*#__PURE__*/_jsx(Type,{children:(_pokemon$types=pokemon.types)===null||_pokemon$types===void 0?void 0:_pokemon$types.map(function(type,index){return/*#__PURE__*/_jsx(CardType,{src:getPokemonType(type.type.name)},index);})})]}),/*#__PURE__*/_jsx(ImgPokemon,{src:(_pokemon$sprites=pokemon.sprites)===null||_pokemon$sprites===void 0?void 0:_pokemon$sprites.other[\"official-artwork\"][\"front_default\"],alt:pokemon.name})]}),/*#__PURE__*/_jsxs(Link,{children:[/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(){return goToDetailsPage(navigate,pokemon.name);},children:/*#__PURE__*/_jsx(\"p\",{children:\"Detalhes\"})}),location.pathname===\"/pokedex\"?/*#__PURE__*/_jsx(ButtonPokedex,{onClick:function onClick(){setFlow(2);setIsOpen(true);removeToPokedex(pokemon);},children:\"Excluir\"}):/*#__PURE__*/_jsx(ButtonPokemon,{onClick:function onClick(){setFlow(1);setIsOpen(true);addToPokedex(pokemon);},children:\"Capturar!\"})]})]});};export default Card;","map":{"version":3,"names":["axios","React","useContext","useEffect","useState","useLocation","useNavigate","getPokemonColors","getPokemonType","BASE_URL","GlobalContext","goToDetailsPage","ButtonPokedex","ButtonPokemon","CardType","Container","ImgPokemon","Link","Pokemon","Type","Card","props","navigate","pokemon","setPokemon","location","context","setIsOpen","setFlow","addToPokedex","removeToPokedex","fetchPokeDetails","get","name","response","data","console","log","types","type","id","map","index","sprites","other","pathname"],"sources":["/home/guilherme/Imagens/Pokedex/src/components/Card/Card.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useLocation, useNavigate } from \"react-router\";\nimport { getPokemonColors } from \"../../constants/color\";\nimport { getPokemonType } from \"../../constants/types\";\nimport { BASE_URL } from \"../../constants/url\";\nimport { GlobalContext } from \"../../contexts/GlobalContext\";\nimport { goToDetailsPage } from \"../../routes/coordinator\";\nimport {\n  ButtonPokedex,\n  ButtonPokemon,\n  CardType,\n  Container,\n  ImgPokemon,\n  Link,\n  Pokemon,\n  Type,\n} from \"./styled\";\n\n  const Card = (props) => {\n  const navigate = useNavigate();\n  const [pokemon, setPokemon] = useState({});\n  const location = useLocation();\n\n  const context = useContext(GlobalContext);\n\n  const {\n    setIsOpen,\n    setFlow,\n    addToPokedex,\n    removeToPokedex,\n  } = context;\n\n  const fetchPokeDetails = async () => {\n    try {\n      const response = await axios.get(`${BASE_URL}/${props.pokemon.name}`);\n      setPokemon(response.data);\n    } catch (error) {\n      console.log(\"Erro ao buscar detalhes de pokemon\");\n      console.log(error.response);\n    }\n  };\n\n  useEffect(() => {\n    fetchPokeDetails();\n  }, []);\n\n  return (\n    <Container\n      color={getPokemonColors(pokemon.types && pokemon.types[0].type.name)}\n    >\n      <Pokemon>\n        <div>\n          <p>#{pokemon.id}</p>\n          <h1>{pokemon.name}</h1>\n          <Type>\n            {pokemon.types?.map((type, index) => {\n              return (\n                <CardType src={getPokemonType(type.type.name)} key={index} />\n              );\n            })}\n          </Type>\n        </div>\n        <ImgPokemon\n          src={pokemon.sprites?.other[\"official-artwork\"][\"front_default\"]}\n          alt={pokemon.name}\n        />\n      </Pokemon>\n      <Link>\n        <a onClick={() => goToDetailsPage(navigate, pokemon.name)}>\n          <p>Detalhes</p>\n        </a>\n        {location.pathname === \"/pokedex\" ? (\n          <ButtonPokedex\n            onClick={() => {\n              setFlow(2);\n              setIsOpen(true);\n              removeToPokedex(pokemon);\n            }}\n          >\n            Excluir\n          </ButtonPokedex>\n        ) : (\n          <ButtonPokemon\n            onClick={() => {\n              setFlow(1);\n              setIsOpen(true);\n              addToPokedex(pokemon);\n            }}\n          >\n            Capturar!\n          </ButtonPokemon>\n        )}\n      </Link>\n    </Container>\n  );\n};\n\nexport default Card;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}